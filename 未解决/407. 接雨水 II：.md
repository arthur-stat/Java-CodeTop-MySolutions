题目简述：

> 给你一个 `m x n` 的矩阵，其中的值均为非负整数，代表二维高度图每个单元的高度，请计算图中形状最多能接多少体积的雨水。

题目链接：[407. 接雨水 II](https://leetcode.cn/problems/trapping-rain-water-ii/)

# 思路

下面的算法似乎无法避免雨水沿着拐弯的路径流出的情况？

```java
class Solution {
    public int trapRainWater(int[][] heightMap) {
        int m = heightMap.length;
        int n = heightMap[0].length;
        int[][] x = new int[m][n];
        int[][] y = new int[m][n];

        // 横向相向双指针
        for (int row = 0; row < m; row++) {
            int i = 0;
            int j = n - 1;
            int iMax = 0;
            int jMax = 0;

            while (i <= j) {
                if (iMax < jMax) {
                    iMax = Math.max(iMax, heightMap[row][i]);
                    x[row][i] = iMax;
                    i++;
                } else {
                    jMax = Math.max(jMax, heightMap[row][j]);
                    x[row][j] = jMax;
                    j--;
                }
            }
        }

        // 纵向相向双指针
        for (int col = 0; col < n; col++) {
            int i = 0;
            int j = m - 1;
            int iMax = 0;
            int jMax = 0;

            while (i <= j) {
                if (iMax < jMax) {
                    iMax = Math.max(iMax, heightMap[i][col]);
                    y[i][col] = iMax;
                    i++;
                } else {
                    jMax = Math.max(jMax, heightMap[j][col]);
                    y[j][col] = jMax;
                    j--;
                }
            }
        }

        int sup = 0;  // 递增柱体积
        int v = 0;    // 实际总体积
        for (int row = 0; row < m; row++) {
            for (int col = 0; col < n; col++) {
                sup += Math.min(x[row][col], y[row][col]);
                v += heightMap[row][col];
            }
        }

        return  sup - v;
    }
}
```

