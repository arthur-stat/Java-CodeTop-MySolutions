题目简述：

> 如果在将所有大写字符转换为小写字符、并移除所有非字母数字字符之后，短语正着读和反着读都一样。则可以认为该短语是一个 **回文串** 。
>
> 字母和数字都属于字母数字字符。
>
> 给你一个字符串 `s`，如果它是 **回文串** ，返回 `true` ；否则，返回 `false` 。

题目链接：[125. 验证回文串](https://leetcode.cn/problems/valid-palindrome/)

# 思路

最简单的方案当然是按题目说的直接将所有大写字符转换为小写字符并移除所有非字母数字字符后再验证回文串：

- 转换小写：`str.toLowerCase();`
- 仅保留字母：`str.replaceAll("[^a-z0-9]", "");`

接着按回文串的定义验证即可，即：

```java
class Solution {
    public boolean isPalindrome(String s) {
        String ss = s.toLowerCase().replaceAll("[^a-z0-9]", "");

        int left = ss.length() / 2 - 1;
        int right = (ss.length() & 1) == 1 ? ss.length() / 2 + 1 : ss.length() / 2;
        
        while (left >= 0) {
            if (ss.charAt(left--) != ss.charAt(right++)) return false;
        }

        return true;
    }
}
```

# 代码

不过更好的方案当然还是考虑双指针，手动跳过非法字母，并且判等时将同一字符的大小写视为相等。

```java
class Solution {
    public boolean isPalindrome(String s) {
        int left = 0, right = s.length() - 1;
        while (left < right) {
            while (left < right && !Character.isLetterOrDigit(s.charAt(left))) left++;
            while (left < right && !Character.isLetterOrDigit(s.charAt(right))) right--;

            if (Character.toLowerCase(s.charAt(left)) != Character.toLowerCase(s.charAt(right))) return false;
            left++;
            right--;
        }
        return true;
    }
}
```
