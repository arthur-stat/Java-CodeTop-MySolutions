题目简述：

> 给定一个整数，请你输出这个整数的中文读法。
>
> 例如：
>
> 153，读作一百五十三
>
> 103，读作一百零三
>
> 1003，读作一千零三
>
> 数据范围：$|val|\leqslant10^9$

题目链接：[阿拉伯数字转中文](https://www.nowcoder.com/practice/6eec992558164276a51d86d71678b300)

# 思路

个，十，百，千，万，十万，千万，一亿，十亿……

中文的问题是 3600,000 读作三千六百万，而不是三千万六百万，因此不能像阿拉伯数字转罗马数字那样直接贪心匹配。

但也正是注意到 “三千六百万” 的说法，可以认为中文数字语法中有一些基本单位，在数据范围内有：个，万，亿。我们会说 “xxx 亿 yyy 万 zzz”，其中的 “xxx”、”yyy“、”zzz“ 都是 0 至 9999 的数字描述。由于数字范围限定在了 $10^9$ 以内，因此我们可以将数字按 $[0,10^4)$、$[10^4,10^8)$ 与 $[10^8,10^9]$ 分段，分别讨论每段上对应的 “xxx”、”yyy“、”zzz“ 分别如何描述，然后为描述加上后缀 “亿”、“万” 或缺省。

现在我们来研究 “xxx”、”yyy“、”zzz“ 应如何描述。如果不存在零，那么对数码按 “千”、“百”、“十”、缺省的顺序依次加上描述即可；若存在零，对于连续零（一个零也被视为连续零）以 “零” 代替。连续零的逻辑可以通过检查构造字符串目前是否以 “零” 结尾实现，如果是则略过，如果不是则在尾部插入 “零”。

此外的注意点：

- 单独判 `n == 0`；
- 抛开 “负” 外，如果字符最终以 “一十” 开头，则需要删掉首个字符 “一”。

不得不说这个问题挺神经病的，很没意思的模拟。

# 代码

```java
import java.util.*;


public class Solution {
    /**
     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可
     *
     * 
     * @param n int整型 
     * @return string字符串
     */

    public static final String[] numToCn = {"零", "一", "二", "三", "四", "五", "六", "七", "八", "九"};

    public String num2cn (int n) {
        if (n == 0) return "零";

        boolean negative = false;
        StringBuilder cn = new StringBuilder();
        if (n < 0) {
            negative = true;
            n = Math.abs(n);
        }

        int less10_4 = n % (int) 1e4;
        int less10_8 = n % (int) 1e8 / (int) 1e4;
        int less10_9 = n / (int) 1e8;

        if (less10_9 > 0) {
            if (less10_9 == 10) {
                cn.append("十亿");
                if (less10_8 > 0 || less10_4 > 0) cn.append("零");
            } else {
                cn.append(numToCn[less10_9] + "亿");
            }
        }

        if (less10_8 > 0) {
            int[] ints = num2ints(less10_8);
            if (ints[0] == 0) {
                if (cn.length() > 0 && cn.charAt(cn.length() - 1) != '零') cn.append("零");
            } else {
                cn.append(numToCn[ints[0]] + "千");
            }

            if (ints[1] == 0) {
                if (cn.length() > 0 && cn.charAt(cn.length() - 1) != '零') cn.append("零");
            } else {
                cn.append(numToCn[ints[1]] + "百");
            }

            if (ints[2] == 0) {
                if (cn.length() > 0 && cn.charAt(cn.length() - 1) != '零') cn.append("零");
            } else {
                cn.append(numToCn[ints[2]] + "十");
            }

            if (ints[3] == 0) {
                if (cn.length() > 0 && cn.charAt(cn.length() - 1) != '零') cn.append("零");
            } else {
                cn.append(numToCn[ints[3]]);
            }

            cn.append("万");
        }

        if (less10_4 > 0) {
            int[] ints = num2ints(less10_4);
            if (ints[0] == 0) {
                if (cn.length() > 0 && cn.charAt(cn.length() - 1) != '零') cn.append("零");
            } else {
                cn.append(numToCn[ints[0]] + "千");
            }

            if (ints[1] == 0) {
                if (cn.length() > 0 && cn.charAt(cn.length() - 1) != '零') cn.append("零");
            } else {
                cn.append(numToCn[ints[1]] + "百");
            }

            if (ints[2] == 0) {
                if (cn.length() > 0 && cn.charAt(cn.length() - 1) != '零') cn.append("零");
            } else {
                cn.append(numToCn[ints[2]] + "十");
            }

            if (ints[3] == 0) {
                if (cn.length() > 0 && cn.charAt(cn.length() - 1) != '零') cn.append("零");
            } else {
                cn.append(numToCn[ints[3]]);
            }
        }

        if (cn.length() >= 2 && cn.charAt(0) == '一'&& cn.charAt(1) == '十') cn.deleteCharAt(0);

        if (negative) return "负" + cn.toString();
        return cn.toString();
    }

    /* number < 1e4 */
    private int[] num2ints(int number) {
        return String.format("%04d", number).chars().map(Character::getNumericValue).toArray();
    }
}
```

